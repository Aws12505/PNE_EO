import{c as U,u as W,r as R,j as e,F as X,L as Y}from"./app-r6ykyq-J.js";import{I as m}from"./input-error-CskDHul3.js";import{P as Z}from"./page-shell-CQoVrhP-.js";import{B as b}from"./index-kX1ZSiSR.js";import{L as d,I as r}from"./label-sBgWC9ke.js";import{S as ee,a as se,b as ae,c as te,d as ie}from"./select-sDK-iXCI.js";import{T as ne}from"./textarea-C_Dfbabg.js";import{d as de}from"./index-yKHhYTah.js";import{e as B}from"./app-layout-CygDRTP2.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./index-CTxoVvnS.js";import"./index-Clkdemvp.js";import"./check-BZRgNzfD.js";import"./app-logo-icon-LTLv--Bo.js";function Ie(){const s=U.c(37),{employee:a,statuses:q,tags:M}=W().props,[S,H]=R.useState(String(a.employee_status_id??""));let x;s[0]!==a.contacts?(x=a.contacts?.length?a.contacts:[{contact_type:"email",contact_value:"",is_primary:!0}],s[0]=a.contacts,s[1]=x):x=s[1];let V;s[2]!==x?(V=x.map(pe),s[2]=x,s[3]=V):V=s[3];const[$,C]=R.useState(V);let y;s[4]!==a.addresses?(y=a.addresses?.length?a.addresses:[{address_type:"home",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}],s[4]=a.addresses,s[5]=y):y=s[5];let I;s[6]!==y?(I=y.map(oe),s[6]=y,s[7]=I):I=s[7];const[E,u]=R.useState(I);let g;s[8]!==a.tags?(g=a.tags??[],s[8]=a.tags,s[9]=g):g=s[9];let k;s[10]!==g?(k=g.map(me),s[10]=g,s[11]=k):k=s[11];const J=k,[F,K]=R.useState(J);let T;s[12]===Symbol.for("react.memo_cache_sentinel")?(T={title:"Dashboard",href:de().url},s[12]=T):T=s[12];let L;s[13]===Symbol.for("react.memo_cache_sentinel")?(L={title:"Employees",href:B.index().url},s[13]=L):L=s[13];let f;s[14]!==a?(f=B.edit(a),s[14]=a,s[15]=f):f=s[15];let P;s[16]!==f.url?(P=[T,L,{title:"Edit",href:f.url}],s[16]=f.url,s[17]=P):P=s[17];const G=P;let D;s[18]===Symbol.for("react.memo_cache_sentinel")?(D=h=>{K(j=>j.includes(h)?j.filter(l=>l!==h):[...j,h])},s[18]=D):D=s[18];const O=D;let w;s[19]===Symbol.for("react.memo_cache_sentinel")?(w=h=>{C(j=>j.map((l,t)=>({...l,is_primary:t===h})))},s[19]=w):w=s[19];const Q=w;let A;s[20]===Symbol.for("react.memo_cache_sentinel")?(A=e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-semibold",children:"Edit Employee"})}),s[20]=A):A=s[20];let v;s[21]!==a?(v=B.update.form(a),s[21]=a,s[22]=v):v=s[22];let _;s[23]!==E||s[24]!==$||s[25]!==a||s[26]!==S||s[27]!==q||s[28]!==F||s[29]!==M?(_=h=>{const{processing:j,errors:l}=h;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Basic"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"first_name",children:"First name"}),e.jsx(r,{id:"first_name",name:"first_name",required:!0,defaultValue:a.first_name??""}),e.jsx(m,{message:l.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"middle_name",children:"Middle name"}),e.jsx(r,{id:"middle_name",name:"middle_name",defaultValue:a.middle_name??""}),e.jsx(m,{message:l.middle_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"last_name",children:"Last name"}),e.jsx(r,{id:"last_name",name:"last_name",required:!0,defaultValue:a.last_name??""}),e.jsx(m,{message:l.last_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"preferred_name",children:"Preferred name"}),e.jsx(r,{id:"preferred_name",name:"preferred_name",defaultValue:a.preferred_name??""}),e.jsx(m,{message:l.preferred_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Status"}),e.jsx("input",{type:"hidden",name:"employee_status_id",value:S}),e.jsxs(ee,{value:S,onValueChange:H,children:[e.jsx(se,{children:e.jsx(ae,{placeholder:"Select status"})}),e.jsx(te,{children:q.map(ce)})]}),e.jsx(m,{message:l.employee_status_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"about_me",children:"About"}),e.jsx(ne,{id:"about_me",name:"about_me",rows:4,defaultValue:a.about_me??""}),e.jsx(m,{message:l.about_me})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Employment"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Department"}),e.jsx(r,{name:"employment[department]",defaultValue:a.employment?.department??""}),e.jsx(m,{message:l["employment.department"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Location"}),e.jsx(r,{name:"employment[location]",defaultValue:a.employment?.location??""}),e.jsx(m,{message:l["employment.location"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Designation"}),e.jsx(r,{name:"employment[designation]",defaultValue:a.employment?.designation??""}),e.jsx(m,{message:l["employment.designation"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Hiring date"}),e.jsx(r,{type:"date",name:"employment[hiring_date]",defaultValue:a.employment?.hiring_date??""}),e.jsx(m,{message:l["employment.hiring_date"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Demographics"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Date of birth"}),e.jsx(r,{type:"date",name:"demographics[date_of_birth]",defaultValue:a.demographics?.date_of_birth??""}),e.jsx(m,{message:l["demographics.date_of_birth"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Gender"}),e.jsx(r,{name:"demographics[gender]",defaultValue:a.demographics?.gender??""}),e.jsx(m,{message:l["demographics.gender"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Marital status"}),e.jsx(r,{name:"demographics[marital_status]",defaultValue:a.demographics?.marital_status??""}),e.jsx(m,{message:l["demographics.marital_status"]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[e.jsx("input",{id:"veteran",type:"checkbox",name:"demographics[veteran_status]",value:"1",defaultChecked:!!a.demographics?.veteran_status}),e.jsx(d,{htmlFor:"veteran",children:"Veteran"})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Identifiers"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"SSN"}),e.jsx(r,{name:"identifiers[social_security_number]",defaultValue:a.identifiers?.social_security_number??""}),e.jsx(m,{message:l["identifiers.social_security_number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"National ID"}),e.jsx(r,{name:"identifiers[national_id_number]",defaultValue:a.identifiers?.national_id_number??""}),e.jsx(m,{message:l["identifiers.national_id_number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"ITIN"}),e.jsx(r,{name:"identifiers[itin]",defaultValue:a.identifiers?.itin??""}),e.jsx(m,{message:l["identifiers.itin"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Contacts"}),e.jsx(b,{type:"button",variant:"outline",size:"sm",onClick:()=>C(re),children:"Add contact"})]}),e.jsx("div",{className:"space-y-4",children:$.map((t,i)=>e.jsxs("div",{className:"rounded-lg border p-4",children:[!!t.id&&e.jsx("input",{type:"hidden",name:`contacts[${i}][id]`,value:t.id}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Type"}),e.jsx(r,{value:t.contact_type,onChange:c=>C(o=>o.map((n,p)=>p===i?{...n,contact_type:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`contacts[${i}][contact_type]`,value:t.contact_type}),e.jsx(m,{message:l[`contacts.${i}.contact_type`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Value"}),e.jsx(r,{value:t.contact_value,onChange:c=>C(o=>o.map((n,p)=>p===i?{...n,contact_value:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`contacts[${i}][contact_value]`,value:t.contact_value}),e.jsx(m,{message:l[`contacts.${i}.contact_value`]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[e.jsx("input",{type:"radio",name:"__primary_contact_radio",checked:t.is_primary,onChange:()=>Q(i)}),e.jsx(d,{children:"Primary"}),e.jsx("input",{type:"hidden",name:`contacts[${i}][is_primary]`,value:t.is_primary?"1":"0"})]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx(b,{type:"button",variant:"outline",size:"sm",onClick:()=>C(c=>c.filter((o,n)=>n!==i)),disabled:$.length===1,children:"Remove"})})]},i))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Addresses"}),e.jsx(b,{type:"button",variant:"outline",size:"sm",onClick:()=>u(le),children:"Add address"})]}),e.jsx("div",{className:"space-y-4",children:E.map((t,i)=>e.jsxs("div",{className:"rounded-lg border p-4",children:[!!t.id&&e.jsx("input",{type:"hidden",name:`addresses[${i}][id]`,value:t.id}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Type"}),e.jsx(r,{value:t.address_type,onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,address_type:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][address_type]`,value:t.address_type}),e.jsx(m,{message:l[`addresses.${i}.address_type`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Line 1"}),e.jsx(r,{value:t.address_line1,onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,address_line1:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][address_line1]`,value:t.address_line1}),e.jsx(m,{message:l[`addresses.${i}.address_line1`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Line 2"}),e.jsx(r,{value:t.address_line2??"",onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,address_line2:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][address_line2]`,value:t.address_line2??""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"City"}),e.jsx(r,{value:t.city??"",onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,city:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][city]`,value:t.city??""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"State"}),e.jsx(r,{value:t.state??"",onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,state:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][state]`,value:t.state??""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Country"}),e.jsx(r,{value:t.country??"",onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,country:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][country]`,value:t.country??""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{children:"Postal code"}),e.jsx(r,{value:t.postal_code??"",onChange:c=>u(o=>o.map((n,p)=>p===i?{...n,postal_code:c.target.value}:n))}),e.jsx("input",{type:"hidden",name:`addresses[${i}][postal_code]`,value:t.postal_code??""})]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx(b,{type:"button",variant:"outline",size:"sm",onClick:()=>u(c=>c.filter((o,n)=>n!==i)),disabled:E.length===1,children:"Remove"})})]},i))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Tags"}),e.jsx("div",{className:"grid gap-2 md:grid-cols-3",children:M.map(t=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:F.includes(t.id),onChange:()=>O(t.id)}),e.jsx("span",{children:t.tag_name}),F.includes(t.id)&&e.jsx("input",{type:"hidden",name:"tag_ids[]",value:t.id})]},t.id))}),e.jsx(m,{message:l.tag_ids})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{type:"submit",disabled:j,children:"Save"}),e.jsx(b,{variant:"outline",asChild:!0,type:"button",children:e.jsx(Y,{href:B.show(a).url,children:"Cancel"})})]})]})},s[23]=E,s[24]=$,s[25]=a,s[26]=S,s[27]=q,s[28]=F,s[29]=M,s[30]=_):_=s[30];let N;s[31]!==v||s[32]!==_?(N=e.jsx(X,{...v,className:"mt-6 max-w-3xl space-y-8",children:_}),s[31]=v,s[32]=_,s[33]=N):N=s[33];let z;return s[34]!==G||s[35]!==N?(z=e.jsxs(Z,{title:"Edit Employee",breadcrumbs:G,children:[A,N]}),s[34]=G,s[35]=N,s[36]=z):z=s[36],z}function le(s){return[...s,{address_type:"",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}]}function re(s){return[...s,{contact_type:"",contact_value:"",is_primary:!1}]}function ce(s){return e.jsx(ie,{value:String(s.id),children:s.value},s.id)}function me(s){return s.id}function oe(s){return{id:s.id,address_type:s.address_type??"",address_line1:s.address_line1??"",address_line2:s.address_line2??"",city:s.city??"",state:s.state??"",country:s.country??"",postal_code:s.postal_code??""}}function pe(s){return{id:s.id,contact_type:s.contact_type??"",contact_value:s.contact_value??"",is_primary:!!s.is_primary}}export{Ie as default};
