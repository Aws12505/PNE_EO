import{u as R,r as t,a as B,j as e,L as g}from"./app-r6ykyq-J.js";import{P as F}from"./page-shell-CQoVrhP-.js";import{B as A}from"./badge-mCp2ba2-.js";import{B as c}from"./index-kX1ZSiSR.js";import{L as i,I as f}from"./label-sBgWC9ke.js";import{S as D,a as k,b as P,c as V,d as v}from"./select-sDK-iXCI.js";import{T as Y,a as G,b as S,c as n,d as J,e as l}from"./table-DunWvzoY.js";import{d as K}from"./index-yKHhYTah.js";import{e as d}from"./app-layout-CygDRTP2.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./index-CTxoVvnS.js";import"./index-Clkdemvp.js";import"./check-BZRgNzfD.js";import"./app-logo-icon-LTLv--Bo.js";const r="all";function de(){const{employees:o,statuses:z,tags:H,filters:a}=R().props,M=[{title:"Dashboard",href:K().url},{title:"Employees",href:d.index().url}],[m,N]=t.useState(a.search??""),[h,b]=t.useState(a.status_id?String(a.status_id):r),[x,C]=t.useState(a.tag_id?String(a.tag_id):r),[u,T]=t.useState(a.department??""),[p,_]=t.useState(a.location??""),[j,E]=t.useState(a.designation??""),I=t.useMemo(()=>{const s={};return m.trim()&&(s.search=m.trim()),h!==r&&(s.status_id=h),x!==r&&(s.tag_id=x),u.trim()&&(s.department=u.trim()),p.trim()&&(s.location=p.trim()),j.trim()&&(s.designation=j.trim()),s},[m,h,x,u,p,j]);t.useEffect(()=>{const s=setTimeout(()=>{B.get(d.index().url,I,{preserveState:!0,preserveScroll:!0,replace:!0})},250);return()=>clearTimeout(s)},[I]);const q=()=>{N(""),b(r),C(r),T(""),_(""),E(""),B.get(d.index().url,{},{preserveState:!0,replace:!0})};return e.jsxs(F,{title:"Employees",breadcrumbs:M,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Employees"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: ",o.total]})]}),e.jsx(c,{asChild:!0,children:e.jsx(g,{href:d.create().url,children:"Create Employee"})})]}),e.jsxs("div",{className:"mt-4 rounded-lg border p-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Search"}),e.jsx(f,{value:m,onChange:s=>N(s.target.value),placeholder:"Name / preferred name…"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Status"}),e.jsxs(D,{value:h,onValueChange:b,children:[e.jsx(k,{children:e.jsx(P,{placeholder:"Any status"})}),e.jsxs(V,{children:[e.jsx(v,{value:r,children:"Any"}),z.map(s=>e.jsx(v,{value:String(s.id),children:s.value},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Tag"}),e.jsxs(D,{value:x,onValueChange:C,children:[e.jsx(k,{children:e.jsx(P,{placeholder:"Any tag"})}),e.jsxs(V,{children:[e.jsx(v,{value:r,children:"Any"}),H.map(s=>e.jsx(v,{value:String(s.id),children:s.tag_name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Department"}),e.jsx(f,{value:u,onChange:s=>T(s.target.value),placeholder:"e.g. Engineering"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Location"}),e.jsx(f,{value:p,onChange:s=>_(s.target.value),placeholder:"e.g. New York"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Designation"}),e.jsx(f,{value:j,onChange:s=>E(s.target.value),placeholder:"e.g. Manager"})]})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsx(c,{variant:"outline",type:"button",onClick:q,children:"Clear"})})]}),e.jsx("div",{className:"mt-4 rounded-lg border",children:e.jsxs(Y,{children:[e.jsx(G,{children:e.jsxs(S,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Preferred"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Employment"}),e.jsx(n,{children:"Tags"}),e.jsx(n,{className:"w-[1%] text-right",children:"Actions"})]})}),e.jsxs(J,{children:[o.data.map(s=>{const y=[s.first_name,s.middle_name,s.last_name].filter(Boolean).join(" "),L=[s.employment?.department,s.employment?.designation,s.employment?.location].filter(Boolean);return e.jsxs(S,{children:[e.jsx(l,{className:"font-medium",children:y}),e.jsx(l,{children:s.preferred_name??"—"}),e.jsx(l,{children:s.status?.value?e.jsx(A,{variant:"secondary",children:s.status.value}):"—"}),e.jsx(l,{children:L.length?e.jsx("span",{className:"text-sm",children:L.join(" • ")}):"—"}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(s.tags??[]).length?(s.tags??[]).map(w=>e.jsx(A,{variant:"outline",children:w.tag_name},w.id)):"—"})}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(g,{href:d.show(s).url,children:"View"})}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(g,{href:d.edit(s).url,children:"Edit"})})]})})]},s.id)}),o.data.length===0&&e.jsx(S,{children:e.jsx(l,{colSpan:6,className:"py-10 text-center text-sm text-muted-foreground",children:"No employees found."})})]})]})}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:o.links.map((s,y)=>e.jsx(c,{variant:s.active?"default":"outline",size:"sm",asChild:!0,disabled:!s.url,children:e.jsx(g,{href:s.url??"#",preserveScroll:!0,preserveState:!0,children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})})},y))})]})}export{de as default};
